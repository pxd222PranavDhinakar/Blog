<!--project3.html-->
<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/prismjs/themes/prism.css">
    <script src="https://unpkg.com/prismjs/prism.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 3 - Report Generation</title>
    <link rel="stylesheet" href="css/project3.css">
    <link rel="stylesheet" href="css/style.css">
</head>


<body>
    <header>
        <h1>Welcome to My Project Showcase</h1>
        <nav>
            <ul>
                <li><a href="http://localhost:8000/frontend/index.html">Home</a></li>
                <li><a href="http://localhost:8000/frontend/project1.html">Project 1</a></li>
                <li><a href="http://localhost:8000/frontend/project2.html">Project 2</a></li>
                <li><a href="http://localhost:8000/frontend/project3.html">Project 3</a></li>
                <li><a href="http://localhost:8000/frontend/project4.html">Project 4</a></li>
                <li><a href="http://localhost:8000/frontend/project5.html">Project 5</a></li>
                <li><a href="http://localhost:8000/frontend/project6.html">Project 6</a></li>
            </ul>
        </nav>        
    </header>

    <section>
        <h2>Project 3: Report Generation</h2>
        <p>This project demonstrates a report generation script. It generates a report for the directory it is residing in. Click the button below to generate the report:</p>
        <button id="runProject3">Generate Report</button>
        <div id="result">
            <strong>Generated Report:</strong><br>
            <pre><code class="language-markdown"></code></pre>
        </div>        
    </section>    

    <footer>
        <!-- Your footer content here -->
    </footer>

    <script>
        $(document).ready(function() {
            $('#runProject3').on('click', function() {
                $.ajax({
                    url: 'http://localhost:8000/backend/project3.php',
                    type: 'GET',
                    dataType: 'json', // This ensures the response is treated as JSON.
                    success: function(response) {
                        if (response.data) {
                            // Use .text() to safely insert the content if it's plain text.
                            $('#result code').text(response.data);
                            Prism.highlightAll(); // Re-highlight all syntax.
                        } else {
                            $('#result code').text('No data to display.');
                        }
                    },
                    error: function(xhr, status, error) {
                        $('#result code').text('Error loading data: ' + error);
                    }
                });
            });
        });               
    </script>
    
</body>
</html>